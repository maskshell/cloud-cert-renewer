# Example values file for cloud-cert-renewer with webhook secret
# This file demonstrates how to configure webhook notifications using Kubernetes secrets

# Basic configuration
serviceType: cdn
cloudProvider: alibaba
authMethod: access_key

# CDN configuration
cdn:
  # Domain names can be specified as a YAML list (preferred) or comma-separated string (backward compatible)
  # List format (recommended):
  domainName:
    - example.com
    - www.example.com
  # Or use comma-separated string (backward compatible):
  # domainName: example.com,www.example.com
  region: cn-hangzhou

# Force update (optional)
forceUpdate: false

# Webhook configuration using secret
webhook:
  # Enable webhook notifications
  enabled: true

  # Instead of specifying URL directly, reference a secret
  secret:
    # Name of the secret containing the webhook URL
    name: webhook-secret
    # Key in the secret that contains the webhook URL
    key: webhook-url

  # Other webhook settings
  timeout: 30
  retryAttempts: 3
  retryDelay: 1.0
  enabledEvents: "all" # All events will be sent
  #
  # Webhook message format type (generic, wechat_work, etc.)
  # For WeChat Work robot webhook URL, set this to "wechat_work"
  # messageFormat: "wechat_work"

# Secrets configuration
secrets:
  cloudCredentials:
    name: cloud-credentials
    accessKeyIdKey: access-key-id
    accessKeySecretKey: access-key-secret
  certificate:
    name: cert-secret
    certKey: tls.crt
    privateKeyKey: tls.key

# Image configuration
image:
  repository: ghcr.io/maskshell/cloud-cert-renewer
  tag: latest
  pullPolicy: IfNotPresent

# Deployment configuration
replicas: 1
# Before installing, create the webhook secret:
# kubectl create secret generic webhook-secret \
#   --from-literal=webhook-url=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK \
#   --namespace your-namespace
