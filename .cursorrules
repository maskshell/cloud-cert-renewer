# 迭代开发规则

## 核心原则

1. **每次小迭代独立提交**
   - 每个功能完整的小迭代完成后，必须立即进行 git commit
   - Commit 信息应清晰描述本次迭代的内容和影响
   - 每个迭代应该是原子性的，可以独立回滚

2. **迭代完整性要求**
   - 每次迭代后，代码必须能够完整运行
   - 不能因为迭代破坏了原有功能的完整性
   - 如果迭代涉及配置变更，必须提供向后兼容的默认值或明确的错误提示

3. **迭代节奏控制**
   - 每次迭代完成后，暂停并等待用户指令
   - 不要连续进行多个迭代，除非用户明确要求
   - 在继续下一步之前，确保当前迭代已经测试和验证

4. **功能保护**
   - 重构时保持原有功能不变
   - 如果必须破坏性变更，需要提供迁移指南
   - 所有硬编码值改为环境变量时，必须提供默认值或明确的错误提示

5. **提交规范**
   - Commit message 格式：`type(scope): description`
   - 详细说明本次变更的内容
   - 列出需要设置的环境变量或配置项
   - 说明向后兼容性
